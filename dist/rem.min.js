!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Rem=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();return function(){function o(i){if(e(this,o),o.instance)return o.instance;this.config={},this.tId={};var r=this,c={designWidth:750,maxWidth:500,ratio:100,dpr:1};this.isMetaEl(i)?this.config=n(c,this.contentParse(i)):i&&"object"!==(void 0===i?"undefined":t(i))||(this.config=n(c,i)),this.setViewport(this.config),this.setFontSize(this.config),window.addEventListener("resize",function(){clearTimeout(r.tId),r.tId=setTimeout(function(){r.setFontSize(r.config)},100)},!1),o.instance=this}return i(o,[{key:"isMetaEl",value:function(e){return e instanceof HTMLMetaElement}},{key:"contentParse",value:function(e){var t={};return(e||document.querySelector('meta[name="rem"]')).getAttribute("content").split(",").map(function(e){var n=e.split("=").map(function(e){return e.replace(/^\s+|\s+$/g,"")});n[0]=n[0].replace(/\-+(\w{1})/,function(e,t){return t.toUpperCase()}),t[n[0]]=n[1]}),t}},{key:"setViewport",value:function(e){var t=document.querySelector('meta[name="viewport"]'),n=e.dpr,i=void 0===n?1:n,o="width=device-width, initial-scale="+1/i+", minimum-scale="+1/i+", maximum-scale="+1/i+", user-scalable=no";t?t.setAttribute("content",o):((t=document.createElement("meta")).setAttribute("name","viewport"),t.setAttribute("content",o),document.head.appendChild(t))}},{key:"setFontSize",value:function(e){var t=document.documentElement.clientWidth||window.clientWidth,n=e.designWidth,i=e.ratio,o=e.maxWidth,r=e.dpr;t=t>o*r?o*r:t,document.documentElement.style.fontSize=t*i/n+"px"}},{key:"px2rem",value:function(e){return(e=e.toString().replace("px",""))/this.config.ratio+"rem"}},{key:"rem2px",value:function(e){return(e=e.toString().replace("rem",""))*document.documentElement.style.fontSize.replace("px","")+"px"}}]),o}()});
